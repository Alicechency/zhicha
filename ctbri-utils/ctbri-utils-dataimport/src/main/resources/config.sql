-- create table config
DROP TABLE IF EXISTS `config_coreplatform`;
CREATE TABLE `config_coreplatform` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `es_cluster_name` varchar(50) DEFAULT NULL,
  `es_ip` varchar(50) DEFAULT NULL,
  `es_port` int(11) DEFAULT NULL,
  `es_default_index` varchar(50) DEFAULT NULL,
  `sql_jq_create` text,
  `sql_jq_insert` text,
  `sql_ck_create` text,
  `sql_ck_insert` text,
  `regex_identity` varchar(50) DEFAULT NULL,
  `regex_location` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;

-- insert table config datas
insert  into `config_coreplatform`(`id`,`es_cluster_name`,`es_ip`,`es_port`,`es_default_index`,`sql_jq_create`,`sql_jq_insert`,`sql_ck_create`,`sql_ck_insert`,`regex_identity`,`regex_location`) values (1,'my-application','localhost',9300,'cypo','create table IF NOT EXISTS `dw_crimedata` (\r\n`序号` int(11) NOT NULL AUTO_INCREMENT,\r\n`警情序号` bigint(11) DEFAULT NULL,\r\n`标题` varchar(255) COLLATE utf8_bin DEFAULT NULL,\r\n`摘要` varchar(1000) COLLATE utf8_bin DEFAULT NULL,\r\n`报警时间` varchar(100) COLLATE utf8_bin DEFAULT NULL,\r\n`处警单位` varchar(50) COLLATE utf8_bin DEFAULT NULL,\r\n`出警派出所` varchar(50) COLLATE utf8_bin DEFAULT NULL,\r\n`报警电话` varchar(50) COLLATE utf8_bin DEFAULT NULL,\r\n`街头类别` varchar(50) COLLATE utf8_bin DEFAULT NULL,\r\n`反馈信息` text COLLATE utf8_bin,\r\n`事主` varchar(50) COLLATE utf8_bin DEFAULT NULL,\r\n`点位` varchar(255) COLLATE utf8_bin DEFAULT NULL,\r\n`警情类别1` varchar(100) COLLATE utf8_bin DEFAULT NULL,\r\n`警情类别2` varchar(100) COLLATE utf8_bin DEFAULT NULL,\r\n`警情类别3` varchar(100) COLLATE utf8_bin DEFAULT NULL,\r\n`警情类别4` varchar(100) COLLATE utf8_bin DEFAULT NULL,\r\n`警情类别5` varchar(100) COLLATE utf8_bin DEFAULT NULL,\r\n`经度` varchar(100) COLLATE utf8_bin DEFAULT NULL,\r\n`纬度` varchar(100) COLLATE utf8_bin DEFAULT NULL,\r\nPRIMARY KEY (`序号`)) ENGINE=InnoDB AUTO_INCREMENT=1886330 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;\r\n','REPLACE INTO `dw_crimedata` (`警情序号`, `标题`, `摘要`, `报警时间`, `处警单位`, `出警派出所`, `报警电话`, `街头类别`, `反馈信息` , `事主`, `点位`, `经度`, `纬度`, `警情类别1`, `警情类别2`, `警情类别3`, `警情类别4`, `警情类别5`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)\r\n','CREATE TABLE `dw_supervisorycontrol` (\r\n  `序号` int(11) NOT NULL AUTO_INCREMENT,\r\n  `积累` varchar(255) DEFAULT NULL,\r\n  `列管` varchar(255) DEFAULT NULL,\r\n  `预警信息编号` varchar(255) DEFAULT NULL,\r\n  `原预警信息编号` varchar(255) DEFAULT NULL,\r\n  `重点人员编号` varchar(255) DEFAULT NULL,\r\n  `重点人员姓名` varchar(255) DEFAULT NULL,\r\n  `公民身份号码` varchar(255) DEFAULT NULL,\r\n  `预警级别` varchar(255) DEFAULT NULL,\r\n  `原预警级别` varchar(255) DEFAULT NULL,\r\n  `预警级别变化` varchar(255) DEFAULT NULL,\r\n  `重点人员类别标记` varchar(255) DEFAULT NULL,\r\n  `重点人员细类` varchar(255) DEFAULT NULL,\r\n  `动态信息类别` varchar(255) DEFAULT NULL,\r\n  `活动发生时间` varchar(255) DEFAULT NULL,\r\n  `活动发生地详址` varchar(255) DEFAULT NULL,\r\n  `所属社会场所` varchar(255) DEFAULT NULL,\r\n  `活动相关信息` varchar(255) DEFAULT NULL,\r\n  `市局部署时间` varchar(255) DEFAULT NULL,\r\n  `市局部署意见` text,\r\n  `分局签收时间` varchar(255) DEFAULT NULL,\r\n  `分局部署人` varchar(255) DEFAULT NULL,\r\n  `分局部署时间` varchar(255) DEFAULT NULL,\r\n  `分局部署意见` text,\r\n  `主责单位` varchar(255) DEFAULT NULL,\r\n  `主责单位签收时间` varchar(255) DEFAULT NULL,\r\n  `主责单位反馈时间` varchar(255) DEFAULT NULL,\r\n  `主责单位反馈目标发现状态` varchar(255) DEFAULT NULL,\r\n  `主责单位反馈采取处置措施` varchar(255) DEFAULT NULL,\r\n  `主责单位反馈处置结果` varchar(255) DEFAULT NULL,\r\n  `主责单位反馈管控措施` varchar(255) DEFAULT NULL,\r\n  `主责单位反馈处置经过描述` varchar(255) DEFAULT NULL,\r\n  `中心第一次上报时间` varchar(255) DEFAULT NULL,\r\n  `中心上报人姓名` varchar(255) DEFAULT NULL,\r\n  `中心最后一次上报目标发现状态` varchar(255) DEFAULT NULL,\r\n  `中心最后一次上报采取处置措施` varchar(255) DEFAULT NULL,\r\n  `中心最后一次上报处置结果` varchar(255) DEFAULT NULL,\r\n  `中心最后一次上报管控措施` varchar(255) DEFAULT NULL,\r\n  `中心最后一次上报处置经过描述` varchar(255) DEFAULT NULL,\r\n  `中心签收是否超时` varchar(255) DEFAULT NULL,\r\n  `中心部署是否超时` varchar(255) DEFAULT NULL,\r\n  `中心上报是否超时` varchar(255) DEFAULT NULL,\r\n  `主责单位签收是否超时` varchar(255) DEFAULT NULL,\r\n  `主责单位反馈是否超时` varchar(255) DEFAULT NULL,\r\n  `情报信息中心上报次数` varchar(255) DEFAULT NULL,\r\n  `吸毒查获尿检信息` varchar(255) DEFAULT NULL,\r\n  `现场查获物品信息` varchar(255) DEFAULT NULL,\r\n  `活动发生地详址经度` varchar(255) DEFAULT NULL,\r\n  `活动发生地详址纬度` varchar(255) DEFAULT NULL,\r\n  PRIMARY KEY (`序号`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;','INSERT INTO `dw_supervisorycontrol` (`积累`,`列管`,`预警信息编号`,`原预警信息编号`,`重点人员编号`,`重点人员姓名`,`公民身份号码`,`预警级别`,`原预警级别`,`预警级别变化`,`重点人员类别标记`,`重点人员细类`,`动态信息类别`,`活动发生时间`,`活动发生地详址`,`所属社会场所`,`活动相关信息`,`市局部署时间`,`市局部署意见`,`分局签收时间`,`分局部署人`,`分局部署时间`,`分局部署意见`,`主责单位`,`主责单位签收时间`,`主责单位反馈时间`,`主责单位反馈目标发现状态`,`主责单位反馈采取处置措施`,`主责单位反馈处置结果`,`主责单位反馈管控措施`,`主责单位反馈处置经过描述`,`中心第一次上报时间`,`中心上报人姓名`,`中心最后一次上报目标发现状态`,`中心最后一次上报采取处置措施`,`中心最后一次上报处置结果`,`中心最后一次上报管控措施`,`中心最后一次上报处置经过描述`,`中心签收是否超时`,`中心部署是否超时`,`中心上报是否超时`,`主责单位签收是否超时`,`主责单位反馈是否超时`,`情报信息中心上报次数`,`吸毒查获尿检信息`,`现场查获物品信息`,`活动发生地详址经度`,`活动发生地详址纬度`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)\r\n','.*(?=报)','(?<=在).*?[山|室|口|路|街|厦|座|里|号|区|所|场|间|层|门|馆|店|楼|桥|居|湖|站]|(中心)|(公园)|(银行)');